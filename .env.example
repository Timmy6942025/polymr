# Polymarket Maker Rebates Bot - Environment Configuration
# Copy this file to .env and fill in your values

# ============================================================================
# POLYMARKET API CONFIGURATION
# ============================================================================
POLYMARKET_API_URL=https://clob.polymarket.com
POLYMARKET_WS_URL=wss://clob-ws.polymarket.com

# Authentication (REQUIRED - Get from reveal.polymarket.com or wallet export)
PRIVATE_KEY=your_private_key_here
PUBLIC_ADDRESS=your_wallet_address_here

# ============================================================================
# MARKET CONFIGURATION
# ============================================================================
# Target specific market (leave empty for auto-discovery of 15m crypto markets)
CONDITION_ID=
MARKET_DISCOVERY_ENABLED=true
DISCOVERY_WINDOW_MINUTES=15

# ============================================================================
# QUOTING PARAMETERS
# ============================================================================
# Base order size in USD (start small, increase as you gain confidence)
DEFAULT_SIZE=10.0
MIN_SIZE=1.0

# Spread configuration (basis points)
MIN_SPREAD_BPS=10       # Minimum 0.1% spread
MAX_SPREAD_BPS=50       # Maximum 0.5% spread
SPREAD_STEP_BPS=5       # Step between price levels

# Price positioning
BEST_BID_OFFSET_BPS=5   # Offset from best bid (toward inside)
BEST_ASK_OFFSET_BPS=5   # Offset from best ask (toward inside)

# ============================================================================
# INVENTORY MANAGEMENT
# ============================================================================
# Exposure limits in USD (adjust based on your capital)
MAX_EXPOSURE_USD=1000.0
MIN_EXPOSURE_USD=-1000.0

# Inventory skew protection
TARGET_NET_EXPOSURE=0.0
MAX_INVENTORY_SKEW=0.3   # 30% max inventory imbalance

# Position size limits
MAX_POSITION_SIZE_USD=500.0
MAX_SINGLE_ORDER_SIZE=100.0

# ============================================================================
# CANCEL/REPLACE LOGIC
# ============================================================================
CANCEL_REPLACE_INTERVAL_MS=500
TAKER_DELAY_MS=500
BATCH_CANCELLATIONS=true

# Quote refresh settings
QUOTE_REFRESH_RATE_MS=1000
ORDER_LIFETIME_MS=3000

# ============================================================================
# RISK MANAGEMENT
# ============================================================================
STOP_LOSS_PCT=10.0
MAX_DAILY_VOLUME_USD=5000.0
MAX_ORDERS_PER_MINUTE=60

# Rebate optimization
MIN_FILL_PROBABILITY=0.5
REQUIRE_FEE_MARKET_ONLY=true

# ============================================================================
# AUTO-REDEEM SETTINGS
# ============================================================================
AUTO_REDEEM_ENABLED=true
REDEEM_THRESHOLD_USD=1.0
AUTO_MERGE_ENABLED=true

# ============================================================================
# GAS OPTIMIZATION
# ============================================================================
GAS_BATCHING_ENABLED=true
GAS_PRICE_GWEI=30.0      # Adjust based on network conditions
MAX_GAS_PERCENTAGE=5.0   # Max % of trade value for gas

# ============================================================================
# POLYGON RPC (for on-chain operations)
# ============================================================================
RPC_URL=https://polygon-rpc.com

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================
LOG_LEVEL=INFO
METRICS_HOST=0.0.0.0
METRICS_PORT=9305
ENABLE_STRUCTURED_LOGGING=true

# Telegram alerts (optional)
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# ============================================================================
# BOT SETTINGS
# ============================================================================
BOT_NAME=polymr-maker-bot
TEST_MODE=true          # Set to false when ready for production
STARTUP_DELAY_SECONDS=5
SHUTDOWN_GRACE_PERIOD=10
